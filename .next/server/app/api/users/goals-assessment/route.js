"use strict";(()=>{var e={};e.id=426,e.ids=[426],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},4167:(e,s,r)=>{r.r(s),r.d(s,{originalPathname:()=>_,patchFetch:()=>v,requestAsyncStorage:()=>m,routeModule:()=>g,serverHooks:()=>f,staticGenerationAsyncStorage:()=>h});var t={};r.r(t),r.d(t,{POST:()=>d});var a=r(49303),n=r(88716),o=r(60670),i=r(87070),u=r(65630),l=r(29489),p=r(20728);let c=u.Ry({career_goals:u.IX(u.Z_()).min(1,"At least one career goal is required"),interests:u.IX(u.Z_()).min(1,"At least one interest is required"),challenges:u.IX(u.Z_()).optional(),additional_notes:u.Z_().optional()});async function d(e){try{let s=await e.json(),r=c.parse(s),t="mock-user-id",a=await p._.user.update({where:{id:t},data:{careerGoals:r.career_goals,interests:r.interests,updatedAt:new Date}});return await p._.careerPreferences.upsert({where:{userId:t},update:{preferredRoles:r.career_goals,specificConcerns:r.challenges||[],updatedAt:new Date},create:{userId:t,preferredRoles:r.career_goals,specificConcerns:r.challenges||[],createdAt:new Date,updatedAt:new Date}}),i.NextResponse.json({success:!0,message:"Goals assessment saved successfully",user:{id:a.id,careerGoals:a.careerGoals,interests:a.interests}})}catch(e){if(console.error("Error saving goals assessment:",e),e instanceof l.j)return i.NextResponse.json({error:"Validation error",details:e.issues},{status:400});return i.NextResponse.json({error:"Failed to save goals assessment"},{status:500})}}let g=new a.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/users/goals-assessment/route",pathname:"/api/users/goals-assessment",filename:"route",bundlePath:"app/api/users/goals-assessment/route"},resolvedPagePath:"/Users/bharat/Desktop/upmentor/src/app/api/users/goals-assessment/route.ts",nextConfigOutput:"",userland:t}),{requestAsyncStorage:m,staticGenerationAsyncStorage:h,serverHooks:f}=g,_="/api/users/goals-assessment/route";function v(){return(0,o.patchFetch)({serverHooks:f,staticGenerationAsyncStorage:h})}},20728:(e,s,r)=>{r.d(s,{_:()=>a});let t=require("@prisma/client"),a=globalThis.prisma??new t.PrismaClient({log:["error"]})}};var s=require("../../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[948,972,630],()=>r(4167));module.exports=t})();