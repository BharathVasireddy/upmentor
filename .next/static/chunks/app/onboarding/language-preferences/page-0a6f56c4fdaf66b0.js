(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[294],{9458:function(e,a,n){Promise.resolve().then(n.bind(n,8231))},6463:function(e,a,n){"use strict";var t=n(1169);n.o(t,"usePathname")&&n.d(a,{usePathname:function(){return t.usePathname}}),n.o(t,"useRouter")&&n.d(a,{useRouter:function(){return t.useRouter}})},8231:function(e,a,n){"use strict";n.r(a),n.d(a,{default:function(){return c}});var t=n(7437),s=n(6463),r=n(2265);let u={primaryLanguage:"",languagesSpoken:""};function l(e){let{userId:a,onSuccess:n}=e,[s,l]=(0,r.useState)(u),[o,i]=(0,r.useState)(!1),[c,d]=(0,r.useState)(null),[m,g]=(0,r.useState)(!1),p=e=>{l({...s,[e.target.name]:e.target.value})},h=async e=>{e.preventDefault(),d(null),g(!1),i(!0);let t={userId:a,primaryLanguage:s.primaryLanguage,languagesSpoken:s.languagesSpoken.split(",").map(e=>e.trim()).filter(Boolean)},r=await fetch("/api/users/language-preferences",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(i(!1),r.ok)g(!0),n();else{var u,l;let e=await r.json();d((null===(l=e.error)||void 0===l?void 0:null===(u=l.formErrors)||void 0===u?void 0:u.join(", "))||e.error||"Submission failed")}};return(0,t.jsxs)("form",{onSubmit:h,className:"max-w-md mx-auto p-6 bg-white rounded shadow space-y-4",children:[(0,t.jsx)("h2",{className:"text-xl font-bold mb-2",children:"Language Preferences"}),c&&(0,t.jsx)("div",{className:"text-red-600",children:c}),m&&(0,t.jsx)("div",{className:"text-green-600",children:"Saved!"}),(0,t.jsx)("input",{name:"primaryLanguage",value:s.primaryLanguage,onChange:p,placeholder:"Primary Language",className:"w-full border p-2 rounded",required:!0}),(0,t.jsx)("input",{name:"languagesSpoken",value:s.languagesSpoken,onChange:p,placeholder:"Languages Spoken (comma separated)",className:"w-full border p-2 rounded",required:!0}),(0,t.jsx)("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded font-semibold disabled:opacity-50",disabled:o,children:o?"Saving...":"Save & Continue"})]})}var o=n(6490);let i=["Academic Level","Profile","Language","Goals","Complete"];function c(){let e=(0,s.useRouter)();return(0,t.jsx)("div",{className:"min-h-screen bg-gray-100 py-8",children:(0,t.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,t.jsx)(o.Z,{currentStep:2,steps:i}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-8",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-center mb-6",children:"Language Preferences"}),(0,t.jsx)("p",{className:"text-gray-600 text-center mb-8",children:"Help us match you with mentors who speak your preferred languages."}),(0,t.jsx)(l,{userId:"mock-user-id",onSuccess:()=>{e.push("/onboarding/goals-assessment")}})]})]})})}},6490:function(e,a,n){"use strict";n.d(a,{Z:function(){return s}});var t=n(7437);function s(e){let{currentStep:a,steps:n}=e;return(0,t.jsx)("div",{className:"flex items-center justify-center gap-2 my-6",children:n.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("div",{className:"w-8 h-8 flex items-center justify-center rounded-full border-2 font-bold text-sm ".concat(s===a?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-600 border-gray-300"),children:s+1}),(0,t.jsx)("span",{className:"text-xs ".concat(s===a?"font-bold text-blue-600":"text-gray-500"),children:e}),s<n.length-1&&(0,t.jsx)("span",{className:"w-8 h-1 bg-gray-300 rounded"})]},e))})}n(2265)}},function(e){e.O(0,[971,23,744],function(){return e(e.s=9458)}),_N_E=e.O()}]);