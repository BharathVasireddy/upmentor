(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[431],{6160:function(e,a,r){Promise.resolve().then(r.bind(r,2466))},6463:function(e,a,r){"use strict";var s=r(1169);r.o(s,"usePathname")&&r.d(a,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(a,{useRouter:function(){return s.useRouter}})},2466:function(e,a,r){"use strict";r.r(a),r.d(a,{default:function(){return d}});var s=r(7437),t=r(6463),l=r(2265);let n={schoolName:"",board:"",classGrade:"",stream:"",subjects:"",extracurricular:""};function o(e){let{userId:a,onSuccess:r}=e,[t,o]=(0,l.useState)(n),[u,c]=(0,l.useState)(!1),[d,i]=(0,l.useState)(null),[m,h]=(0,l.useState)(!1),x=e=>{o({...t,[e.target.name]:e.target.value})},b=async e=>{e.preventDefault(),i(null),h(!1),c(!0);let s={userId:a,academicLevel:"school",schoolName:t.schoolName,board:t.board,classGrade:t.classGrade,stream:t.stream,subjects:t.subjects.split(",").map(e=>e.trim()).filter(Boolean),extracurricular:t.extracurricular.split(",").map(e=>e.trim()).filter(Boolean)},l=await fetch("/api/users/academic-details",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(c(!1),l.ok)h(!0),r();else{var n,o;let e=await l.json();i((null===(o=e.error)||void 0===o?void 0:null===(n=o.formErrors)||void 0===n?void 0:n.join(", "))||e.error||"Submission failed")}};return(0,s.jsxs)("form",{onSubmit:b,className:"max-w-md mx-auto p-6 bg-white rounded shadow space-y-4",children:[(0,s.jsx)("h2",{className:"text-xl font-bold mb-2",children:"School Profile"}),d&&(0,s.jsx)("div",{className:"text-red-600",children:d}),m&&(0,s.jsx)("div",{className:"text-green-600",children:"Saved!"}),(0,s.jsx)("input",{name:"schoolName",value:t.schoolName,onChange:x,placeholder:"School Name",className:"w-full border p-2 rounded",required:!0}),(0,s.jsx)("input",{name:"board",value:t.board,onChange:x,placeholder:"Board (e.g. CBSE, ICSE)",className:"w-full border p-2 rounded",required:!0}),(0,s.jsx)("input",{name:"classGrade",value:t.classGrade,onChange:x,placeholder:"Class/Grade (e.g. 10, 12)",className:"w-full border p-2 rounded",required:!0}),(0,s.jsx)("input",{name:"stream",value:t.stream,onChange:x,placeholder:"Stream (e.g. Science, Commerce)",className:"w-full border p-2 rounded"}),(0,s.jsx)("input",{name:"subjects",value:t.subjects,onChange:x,placeholder:"Subjects (comma separated)",className:"w-full border p-2 rounded",required:!0}),(0,s.jsx)("input",{name:"extracurricular",value:t.extracurricular,onChange:x,placeholder:"Extracurricular (comma separated)",className:"w-full border p-2 rounded"}),(0,s.jsx)("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded font-semibold disabled:opacity-50",disabled:u,children:u?"Saving...":"Save & Continue"})]})}var u=r(6490);let c=["Academic Level","Profile","Language","Goals","Complete"];function d(){let e=(0,t.useRouter)();return(0,s.jsx)("div",{className:"min-h-screen bg-gray-100 py-8",children:(0,s.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,s.jsx)(u.Z,{currentStep:1,steps:c}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow p-8",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-center mb-6",children:"School Profile"}),(0,s.jsx)("p",{className:"text-gray-600 text-center mb-8",children:"Tell us about your school details to help mentors understand your background."}),(0,s.jsx)(o,{userId:"mock-user-id",onSuccess:()=>{e.push("/onboarding/language-preferences")}})]})]})})}},6490:function(e,a,r){"use strict";r.d(a,{Z:function(){return t}});var s=r(7437);function t(e){let{currentStep:a,steps:r}=e;return(0,s.jsx)("div",{className:"flex items-center justify-center gap-2 my-6",children:r.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)("div",{className:"w-8 h-8 flex items-center justify-center rounded-full border-2 font-bold text-sm ".concat(t===a?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-600 border-gray-300"),children:t+1}),(0,s.jsx)("span",{className:"text-xs ".concat(t===a?"font-bold text-blue-600":"text-gray-500"),children:e}),t<r.length-1&&(0,s.jsx)("span",{className:"w-8 h-1 bg-gray-300 rounded"})]},e))})}r(2265)}},function(e){e.O(0,[971,23,744],function(){return e(e.s=6160)}),_N_E=e.O()}]);